## jar包依赖

```java
<dependency>
    <groupId>com.fasterxml.jackson.core</groupId>
    <artifactId>jackson-databind</artifactId>
    <version>2.16.0</version>
</dependency>
```

## API 介绍

所有的 API 都有些注释（这个 API 干什么用的以及需要什么参数），到时候按照要求来，返回值请参考官方文档，所有接口统一返回 `Map`

### 常量介绍

`CLIENT_ID`：申请到的客户端 ID

`CLIENT_SECRET`：申请到的客户端密钥

`RETRY_MAX`：请求出错后的重试次数

`PRIVATE_KEY`：URL 鉴权处所设置的鉴权密钥

`UID`：本用户的 ID

`EXPIRED_TIME_SEC`：防盗链过期的时间 (秒)

`JSON_FILE`：这里设置 JSON 文件的地址里面存放着 ACCESS_TOKEN 和过期时间

`API`：请求 API 的根域名

### 自定义 API

#### 测算文件的大小和 MD5

工具 API：`fileSizeAndMD5()`

#### 对文件进行分片

工具 API：`splitFile()`

分片的时候会创建一个 part 的文件夹，里面存放着分片信息，路径格式为：`part/文件名/文件名-num.part`

#### 上传分片文件

工具 API：`uploadShardsPUT()`

#### 一条龙上传文件

工具 API：`uploadFile()`

只需要提供要上传文件的路径、文件名（带后缀）、目录 ID 即可自动完成所有操作，上传完成之后会删除所有分片

返回信息（Map）：

1. 如果 code 码为 0 则说明完成请求
2. 如果 code 码为 1 则说明上传分片时上传失败，返回 errorNum（上传失败的分片数）、countNum（全部分片数量）、preuploadID（预上传 ID）
3. 如果 code 码为 2 则说明查询上传结果重试了 60 次还是没有合并成功

#### 一条龙上传文件 - 返回直链

工具 API：`uploadFileAndGetDirectLink()`

介绍：包含**一条龙上传文件**并且上传完成之后返回直链信息

要求：需要上传的目录必须是直链空间

#### URL 鉴权 - 防盗链

工具 API：`URLAuthentication()`

介绍：在云盘内开启 URL 鉴权之后所访问呢的链接就需要进行加密校验了，只需要把直链链接传入即可返回加密链接

注意：需要在常量中添加相对应的数据

#### 一条龙上传文件 - 返回直链 + 防盗链

工具 API：`uploadFilesAndGetAuthenticationLink()`

介绍：包含**一条龙上传文件**并且上传完成之后返回直链信息

要求：需要上传的目录必须是直链空间，需要在常量中添加相对应的数据

### 散装 API

#### 获取用户信息

官方文档：[获取用户信息 (yuque.com)](https://123yunpan.yuque.com/org-wiki-123yunpan-muaork/cr6ced/fa2w0rosunui2v4m)

工具 API：`getUserInfo()`

#### 创建离线下载任务

官方文档：[创建离线下载任务 (yuque.com)](https://123yunpan.yuque.com/org-wiki-123yunpan-muaork/cr6ced/wn77piehmp9t8ut4)

工具 API：`createOfflineDownloadTask()`

#### 创建分享链接

官方文档：[创建分享链接 (yuque.com)](https://123yunpan.yuque.com/org-wiki-123yunpan-muaork/cr6ced/dwd2ss0qnpab5i5s)

工具 API：`createSharedLink()`

#### 获取 access_token

官方文档：[获取 access_token (yuque.com)](https://123yunpan.yuque.com/org-wiki-123yunpan-muaork/cr6ced/gn1nai4x0v0ry9ki)

工具 API：`OneTwoThreeCloudPan.getAccessToken()`

### 直链

> 所有直链相关的 API 以 `straight` 开头

#### 获取直链链接

官方文档：[获取直链链接 (yuque.com)](https://123yunpan.yuque.com/org-wiki-123yunpan-muaork/cr6ced/tdxfsmtemp4gu4o2)

工具 API：`straight_GetADirectLink()`

#### 启用直链空间

官方文档：[启用直链空间 (yuque.com)](https://123yunpan.yuque.com/org-wiki-123yunpan-muaork/cr6ced/cl3gvdmho288d376)

工具 API：`straight_EnableDirectLinkSpace()`

#### 禁用直链空间

官方文档：[禁用直链空间 (yuque.com)](https://123yunpan.yuque.com/org-wiki-123yunpan-muaork/cr6ced/ccgz6fwf25nd9psl)

工具 API：`straight_DisableDirectLinkSpace()`

#### 获取直链转码链接

官方文档：[获取直链转码链接 (yuque.com)](https://123yunpan.yuque.com/org-wiki-123yunpan-muaork/cr6ced/xz2uv5t7z8bfmbrg)

工具 API：`straight_GetDirectLinkTranscode()`

#### 发起直链转码

官方文档：[发起直链转码 (yuque.com)](https://123yunpan.yuque.com/org-wiki-123yunpan-muaork/cr6ced/wegmv21pgdfvolg4)

工具 API：`straight_InitiateDirectChainTranscode()`

#### 查询直链转码进度

官方文档：[查询直链转码进度 (yuque.com)](https://123yunpan.yuque.com/org-wiki-123yunpan-muaork/cr6ced/mf5nk6zbn7zvlgyt)

工具 API：`straight_QueryTranscodingProgress()`

### 文件管理

> 所有文件管理的 API 以 `file` 开头

#### 获取文件列表

官方文档：[获取文件列表 (yuque.com)](https://123yunpan.yuque.com/org-wiki-123yunpan-muaork/cr6ced/hosdqqax0knovnm2)

工具 API：`file_GetListOfFiles()`

#### 从回收站恢复文件

官方文档：[从回收站恢复文件 (yuque.com)](https://123yunpan.yuque.com/org-wiki-123yunpan-muaork/cr6ced/kx9f8b6wk6g55uwy)

工具 API：`file_RecoverFilesFromRecycleBin()`

#### 删除文件至回收站

官方文档：[删除文件至回收站 (yuque.com)](https://123yunpan.yuque.com/org-wiki-123yunpan-muaork/cr6ced/en07662k2kki4bo6)

工具 API：`file_DeleteFilesToRecycleBin()`

#### 彻底删除文件

官方文档：[彻底删除文件 (yuque.com)](https://123yunpan.yuque.com/org-wiki-123yunpan-muaork/cr6ced/sg2gvfk5i3dwoxtg)

工具 API：`file_DeleteFilesCompletely()`

#### 移动文件

官方文档：[移动文件 (yuque.com)](https://123yunpan.yuque.com/org-wiki-123yunpan-muaork/cr6ced/rsyfsn1gnpgo4m4f)

工具 API：`file_MoveFiles()`

#### 上传文件

上传流程：[上传流程 (yuque.com)](https://123yunpan.yuque.com/org-wiki-123yunpan-muaork/cr6ced/uihb5w71iwqvi9dw)

#### 上传文件 - 创建目录

官方文档：[创建目录 (yuque.com)](https://123yunpan.yuque.com/org-wiki-123yunpan-muaork/cr6ced/gvz09ibuuo97i5ue)

工具 API：`file_CreateCatalog()`

#### 上传文件 - 创建文件

官方文档：[创建文件 (yuque.com)](https://123yunpan.yuque.com/org-wiki-123yunpan-muaork/cr6ced/tutyp6gd8m20z0nz)

工具 API：`file_CreateFile()`

#### 上传文件 - 列举已上传分片

官方文档：[列举已上传分片 (yuque.com)](https://123yunpan.yuque.com/org-wiki-123yunpan-muaork/cr6ced/vfciz4tmloogx6b6)

工具 API：`file_ListUploadedParts()`

#### 上传文件 - 获取上传地址

官方文档：[获取上传地址 (yuque.com)](https://123yunpan.yuque.com/org-wiki-123yunpan-muaork/cr6ced/tefyp5usugp3lnsr)

工具 API：`file_ObtainUploadURL()`

#### 上传文件 - 上传完毕

官方文档：[上传完毕 (yuque.com)](https://123yunpan.yuque.com/org-wiki-123yunpan-muaork/cr6ced/te21efi99a9edqd6)

工具 API：`file_UploadCompleted()`

#### 上传文件 - 异步轮询获取上传结果

官方文档：[异步轮询获取上传结果 (yuque.com)](https://123yunpan.yuque.com/org-wiki-123yunpan-muaork/cr6ced/qgg0sxkfeqygam7e)

工具 API：`file_AsyncPollToObtainUploadResults()`