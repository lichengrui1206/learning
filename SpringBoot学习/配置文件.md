# 外部化配置

## 1@value读取配置数据

注解@value读取单个值，语法

```java
@Value("${server.port}")
private String port;
```



## 2.组织多文件

### 概念：

大型集成的第三方框架，中间件比较多，每个框架的配置细节相对复杂，如果都将配置集中到应该application文件，导致文件内容多，不易阅读，我们将每个框架独立应该配置文件，最后将多个文件集中到application文件中导入文件的功能

### 操作

![image-20240430190147424](C:\Users\qwxqy\AppData\Roaming\Typora\typora-user-images\image-20240430190147424.png)

```java
spring:
  config:
    import: classpath:yml/db.yml,classpath:yml/redis.yml,classpath:/yml/rabbitMq.yml
```

## 3.多环境配置文件

### 3.1原理

多环境配置文件的原理是通过在不同的环境中使用不同的配置文件来实现对应用程序的配置信息进行管理和区分。通常情况下，一个应用程序会在多个不同的环境中运行，比如开发、测试和生产环境，每个环境都有自己独特的配置需求

### 3.2 作用

1.管理和区分不同环境的配置信息：通过使用多环境配置文件，可以将不同环境下的配置信息进行分离和管理，避免混淆和错误配置

2.确保应用程序在不同环境下正确运行：每个环境可能有不同的配置需求，比如数据库连接信息、日志级别等，通过使用多环境配置文件可以确保应用程序在不同环境下能够正确运行

3.提高开发和部署效率：使用多环境配置文件可以减少在不同环境中频繁修改配置文件的时间和精力，同时也能够简化部署过程，提高开发和部署的效率

4.方便配置信息的维护和修改：通过使用多环境配置文件，可以方便地对配置信息进行维护和修改，比如添加新的配置项或修改现有的配置项，而不会影响到其他环境的配置信息

### 3.3实现

![](C:\Users\qwxqy\AppData\Roaming\Typora\typora-user-images\image-20240430193139597.png)

```java
 spring 
  profiles:
    active: test
```

